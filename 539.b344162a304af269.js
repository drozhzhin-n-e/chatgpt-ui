"use strict";(self.webpackChunkchatgpt_ui=self.webpackChunkchatgpt_ui||[]).push([[539],{6539:(F,d,g)=>{g.r(d),g.d(d,{LoginComponent:()=>P});var c=g(177),s=g(4341),n=g(540),l=g(3664),m=g(421);function p(t,a){if(1&t&&(n.j41(0,"div",7),n.EFF(1),n.k0s()),2&t){const e=n.XpG();n.AVh("success","success"===e.messageType)("error","error"===e.messageType),n.R7$(1),n.SpI(" ",e.message," ")}}function u(t,a){1&t&&(n.j41(0,"span"),n.EFF(1,"Sign in"),n.k0s())}function _(t,a){1&t&&(n.j41(0,"span",17),n.EFF(1,"Signing in..."),n.k0s())}function f(t,a){if(1&t){const e=n.RV6();n.j41(0,"form",8),n.bIt("ngSubmit",function(){n.eBV(e);const o=n.XpG();return n.Njj(o.onLogin())}),n.j41(1,"div",9)(2,"label",10),n.EFF(3,"Username"),n.k0s(),n.j41(4,"div",11)(5,"input",12),n.bIt("ngModelChange",function(o){n.eBV(e);const i=n.XpG();return n.Njj(i.loginForm.username=o)}),n.k0s()()(),n.j41(6,"div",9)(7,"label",13),n.EFF(8,"Password"),n.k0s(),n.j41(9,"div",11)(10,"input",14),n.bIt("ngModelChange",function(o){n.eBV(e);const i=n.XpG();return n.Njj(i.loginForm.password=o)}),n.k0s()()(),n.j41(11,"button",15),n.DNE(12,u,2,0,"span",6),n.DNE(13,_,2,0,"span",16),n.k0s()()}if(2&t){const e=n.XpG();n.R7$(5),n.Y8G("ngModel",e.loginForm.username)("disabled",e.isLoading),n.R7$(5),n.Y8G("ngModel",e.loginForm.password)("disabled",e.isLoading),n.R7$(1),n.Y8G("disabled",e.isLoading),n.R7$(1),n.Y8G("ngIf",!e.isLoading),n.R7$(1),n.Y8G("ngIf",e.isLoading)}}function h(t,a){1&t&&(n.j41(0,"span"),n.EFF(1,"Create account"),n.k0s())}function b(t,a){1&t&&(n.j41(0,"span",17),n.EFF(1,"Creating account..."),n.k0s())}function M(t,a){if(1&t){const e=n.RV6();n.j41(0,"form",8),n.bIt("ngSubmit",function(){n.eBV(e);const o=n.XpG();return n.Njj(o.onRegister())}),n.j41(1,"div",9)(2,"label",18),n.EFF(3,"Username *"),n.k0s(),n.j41(4,"div",11)(5,"input",19),n.bIt("ngModelChange",function(o){n.eBV(e);const i=n.XpG();return n.Njj(i.registerForm.username=o)}),n.k0s()()(),n.j41(6,"div",9)(7,"label",20),n.EFF(8,"Email (optional)"),n.k0s(),n.j41(9,"div",11)(10,"input",21),n.bIt("ngModelChange",function(o){n.eBV(e);const i=n.XpG();return n.Njj(i.registerForm.email=o)}),n.k0s()()(),n.j41(11,"div",9)(12,"label",22),n.EFF(13,"Password *"),n.k0s(),n.j41(14,"div",11)(15,"input",23),n.bIt("ngModelChange",function(o){n.eBV(e);const i=n.XpG();return n.Njj(i.registerForm.password=o)}),n.k0s()()(),n.j41(16,"div",9)(17,"label",24),n.EFF(18,"Confirm Password *"),n.k0s(),n.j41(19,"div",11)(20,"input",25),n.bIt("ngModelChange",function(o){n.eBV(e);const i=n.XpG();return n.Njj(i.registerForm.confirmPassword=o)}),n.k0s()()(),n.j41(21,"button",26),n.DNE(22,h,2,0,"span",6),n.DNE(23,b,2,0,"span",16),n.k0s()()}if(2&t){const e=n.XpG();n.R7$(5),n.Y8G("ngModel",e.registerForm.username)("disabled",e.isLoading),n.R7$(5),n.Y8G("ngModel",e.registerForm.email)("disabled",e.isLoading),n.R7$(5),n.Y8G("ngModel",e.registerForm.password)("disabled",e.isLoading),n.R7$(5),n.Y8G("ngModel",e.registerForm.confirmPassword)("disabled",e.isLoading),n.R7$(1),n.Y8G("disabled",e.isLoading),n.R7$(1),n.Y8G("ngIf",!e.isLoading),n.R7$(1),n.Y8G("ngIf",e.isLoading)}}function C(t,a){if(1&t){const e=n.RV6();n.j41(0,"p"),n.EFF(1," Don't have an account? "),n.j41(2,"button",27),n.bIt("click",function(){n.eBV(e);const o=n.XpG();return n.Njj(o.toggleMode())}),n.EFF(3,"Sign up"),n.k0s()()}}function v(t,a){if(1&t){const e=n.RV6();n.j41(0,"p"),n.EFF(1," Already have an account? "),n.j41(2,"button",27),n.bIt("click",function(){n.eBV(e);const o=n.XpG();return n.Njj(o.toggleMode())}),n.EFF(3,"Sign in"),n.k0s()()}}let P=(()=>{class t{constructor(e,r){this.authService=e,this.router=r,this.isLoginMode=!0,this.isLoading=!1,this.loginForm={username:"",password:""},this.registerForm={username:"",email:"",password:"",confirmPassword:""},this.message="",this.messageType="error"}toggleMode(){this.isLoginMode=!this.isLoginMode,this.clearMessage(),this.clearForms()}onLogin(){this.loginForm.username&&this.loginForm.password?(this.isLoading=!0,this.authService.login(this.loginForm.username,this.loginForm.password).subscribe(e=>{this.isLoading=!1,e.success?(this.resetChatState(),this.router.navigate(["/chat"])):this.showMessage(e.message,"error")})):this.showMessage("Please fill in all fields","error")}resetChatState(){localStorage.removeItem("chatgpt-ui-current-id-v1")}onRegister(){this.registerForm.username&&this.registerForm.password?this.registerForm.password===this.registerForm.confirmPassword?this.registerForm.password.length<4?this.showMessage("Password must be at least 4 characters long","error"):(this.isLoading=!0,this.authService.register(this.registerForm.username,this.registerForm.password,this.registerForm.email||void 0).subscribe(e=>{this.isLoading=!1,e.success?(this.showMessage(e.message,"success"),setTimeout(()=>{this.router.navigate(["/chat"])},1e3)):this.showMessage(e.message,"error")})):this.showMessage("Passwords do not match","error"):this.showMessage("Please fill in required fields","error")}showMessage(e,r){this.message=e,this.messageType=r,setTimeout(()=>this.clearMessage(),5e3)}clearMessage(){this.message=""}clearForms(){this.loginForm={username:"",password:""},this.registerForm={username:"",email:"",password:"",confirmPassword:""}}static{this.\u0275fac=function(r){return new(r||t)(n.rXU(l.u),n.rXU(m.Ix))}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-login"]],standalone:!0,features:[n.aNF],decls:13,vars:7,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],["class","message error-message",3,"success","error",4,"ngIf"],["class","auth-form",3,"ngSubmit",4,"ngIf"],[1,"mode-toggle"],[4,"ngIf"],[1,"message","error-message"],[1,"auth-form",3,"ngSubmit"],[1,"form-group"],["for","loginUsername"],[1,"input-container"],["type","text","id","loginUsername","data-testid","username-input","name","loginUsername","placeholder","Enter your username","required","",1,"form-input",3,"ngModel","disabled","ngModelChange"],["for","loginPassword"],["type","password","id","loginPassword","data-testid","password-input","name","loginPassword","placeholder","Enter your password","required","",1,"form-input",3,"ngModel","disabled","ngModelChange"],["type","submit","data-testid","signin-button",1,"btn-primary","auth-button",3,"disabled"],["class","loading",4,"ngIf"],[1,"loading"],["for","registerUsername"],["type","text","id","registerUsername","data-testid","username-input","name","registerUsername","placeholder","Choose a username","required","",1,"form-input",3,"ngModel","disabled","ngModelChange"],["for","registerEmail"],["type","email","id","registerEmail","data-testid","email-input","name","registerEmail","placeholder","Enter your email",1,"form-input",3,"ngModel","disabled","ngModelChange"],["for","registerPassword"],["type","password","id","registerPassword","data-testid","password-input","name","registerPassword","placeholder","Create a password (min 4 characters)","required","",1,"form-input",3,"ngModel","disabled","ngModelChange"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirm your password","required","",1,"form-input",3,"ngModel","disabled","ngModelChange"],["type","submit","data-testid","signup-button",1,"btn-primary","auth-button",3,"disabled"],["type","button",1,"link-button",3,"click"]],template:function(r,o){1&r&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),n.EFF(4),n.k0s(),n.j41(5,"p"),n.EFF(6),n.k0s()(),n.DNE(7,p,2,5,"div",3),n.DNE(8,f,14,7,"form",4),n.DNE(9,M,24,11,"form",4),n.j41(10,"div",5),n.DNE(11,C,4,0,"p",6),n.DNE(12,v,4,0,"p",6),n.k0s()()()),2&r&&(n.R7$(4),n.JRh(o.isLoginMode?"Sign in":"Sign up"),n.R7$(2),n.JRh(o.isLoginMode?"Welcome back to your account":"Create your new account"),n.R7$(1),n.Y8G("ngIf",o.message),n.R7$(1),n.Y8G("ngIf",o.isLoginMode),n.R7$(1),n.Y8G("ngIf",!o.isLoginMode),n.R7$(2),n.Y8G("ngIf",o.isLoginMode),n.R7$(1),n.Y8G("ngIf",!o.isLoginMode))},dependencies:[c.MD,c.bT,s.YN,s.qT,s.me,s.BC,s.cb,s.YS,s.vS,s.cV],styles:['.login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--color-bg-primary);padding:var(--spacing-5)}.login-card[_ngcontent-%COMP%]{background:var(--color-bg-secondary);border-radius:var(--radius-xl);padding:var(--spacing-8);width:100%;max-width:400px;box-shadow:0 4px 20px #0000001a;border:1px solid var(--color-border-primary)}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-8)}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--color-text-primary);font-size:var(--font-size-2xl);font-weight:var(--font-weight-semibold);margin:0 0 var(--spacing-2) 0}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:var(--font-size-sm);margin:0}.message[_ngcontent-%COMP%]{padding:var(--spacing-3) var(--spacing-4);border-radius:var(--radius-lg);margin-bottom:var(--spacing-5);font-size:var(--font-size-sm);text-align:center}.message.success[_ngcontent-%COMP%]{background:rgba(34,197,94,.1);color:#22c55e;border:1px solid rgba(34,197,94,.2)}.message.error[_ngcontent-%COMP%]{background:rgba(239,68,68,.1);color:#ef4444;border:1px solid rgba(239,68,68,.2)}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:var(--spacing-5)}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:var(--color-text-primary);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);margin-bottom:var(--spacing-2)}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;background:var(--color-bg-input);border:1px solid var(--color-border-primary);border-radius:var(--radius-xl);padding:var(--spacing-3) var(--spacing-4);transition:all var(--transition-fast)}.input-container[_ngcontent-%COMP%]:focus-within{border-color:var(--color-button-accent-bg);box-shadow:0 0 0 3px #10b9811a}.input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;color:var(--color-text-primary);font-size:var(--font-size-sm);outline:none}.input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:var(--color-text-placeholder)}.input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.auth-button[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-3) var(--spacing-5);background:var(--color-button-accent-bg);color:var(--color-button-accent-text);border:none;border-radius:var(--radius-lg);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);cursor:pointer;transition:all var(--transition-fast);margin-bottom:var(--spacing-5)}.auth-button[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.8;transform:translateY(-1px)}.auth-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.auth-button[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:var(--spacing-2)}.auth-button[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]:after{content:"";width:16px;height:16px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.mode-toggle[_ngcontent-%COMP%]{text-align:center}.mode-toggle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:var(--font-size-sm);margin:0}.mode-toggle[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%]{background:none;border:none;color:var(--color-button-accent-bg);cursor:pointer;font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);text-decoration:underline;padding:0;margin-left:var(--spacing-1);transition:color var(--transition-fast)}.mode-toggle[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%]:hover{opacity:.8}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:var(--spacing-4)}.login-card[_ngcontent-%COMP%]{padding:var(--spacing-6)}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--font-size-xl)}}']})}}return t})()}}]);